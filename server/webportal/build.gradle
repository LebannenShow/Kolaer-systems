group 'ru.kolaer'
version '0.0.1'

def name = "ru.kolaer.server.webportal"
def nameWarFile = name + ".war"

apply plugin: 'groovy'

dependencies {
    compile 'ch.qos.logback:logback-classic:1.1.3'
    compile group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0'
    compile "javax.servlet:jstl:1.2"
    compile "org.springframework:spring-context:4.2.3.RELEASE"
    compile "org.springframework:spring-core:4.2.3.RELEASE"
    compile "org.springframework:spring-beans:4.2.3.RELEASE"
    compile "org.springframework:spring-webmvc:4.2.3.RELEASE"
    compile "org.codehaus.groovy:groovy-all:2.4.6"

}

war {
    archiveName = nameWarFile
    baseName = name
    webXml = file('src/main/webapp/WEB-INF/web.xml')
}

task buildApp(dependsOn: [clean, war]) {
    doLast {
        copy {
            from 'build/libs/' + nameWarFile
            into deployServerPath
        }
    }
}