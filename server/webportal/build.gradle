group 'ru.kolaer'
version '0.0.1'

def name = "ru.kolaer.server.webportal"
def nameWarFile = name + ".war"

apply plugin: 'groovy'

dependencies {
    compile 'ch.qos.logback:logback-classic:1.1.3'
    compile group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0'
    compile "javax.servlet:jstl:1.2"
    compile "org.codehaus.groovy:groovy-all:2.4.6"
    compile "org.springframework.boot:spring-boot-starter-web:1.3.6.RELEASE"
    compile "org.springframework:spring-context-support:4.3.1.RELEASE"
    compile 'org.springframework.security:spring-security-config:4.1.1.RELEASE'
    compile 'org.springframework.security:spring-security-web:4.1.1.RELEASE'

}

war {
    archiveName = nameWarFile
    baseName = name
    webXml = file('src/main/webapp/WEB-INF/web.xml')
}

task buildApp(dependsOn: [clean, war]) {
    doLast {
        copy {
            from 'build/libs/' + nameWarFile
            into deployServerPath
        }
    }
}